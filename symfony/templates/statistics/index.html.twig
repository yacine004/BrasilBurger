{% extends "base.html.twig" %}

{% block title %}Statistiques - Brasil Burger{% endblock %}

{% block content %}
    <div class="card">
        <h2>ğŸ“ˆ Statistiques - Jour: {{ "now"|date("d/m/Y") }}</h2>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <h3>ğŸ“‹ Commandes en Cours</h3>
            <div class="stat-value">{{ stats.commandesEnCours }}</div>
            <a href="{{ path('app_statistics_en_cours') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>

        <div class="stat-card">
            <h3>âœ… Commandes ValidÃ©es</h3>
            <div class="stat-value">{{ stats.commandesValidees }}</div>
            <a href="{{ path('app_statistics_validees') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>

        <div class="stat-card">
            <h3>ğŸ Commandes TerminÃ©es</h3>
            <div class="stat-value">{{ stats.commandesTerminees }}</div>
            <a href="{{ path('app_statistics_terminees') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>

        <div class="stat-card">
            <h3>âŒ Commandes AnnulÃ©es</h3>
            <div class="stat-value">{{ stats.commandesAnnulees }}</div>
            <a href="{{ path('app_statistics_annulees') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>

        <div class="stat-card">
            <h3>ğŸ’° Recettes JournaliÃ¨res</h3>
            <div class="stat-value">{{ (stats.recettes ?? 0)|number_format(0, ',', ' ') }} FCFA</div>
            <a href="{{ path('app_statistics_recettes') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>

        <div class="stat-card">
            <h3>ğŸ” Burgers les Plus Vendus</h3>
            <div class="stat-value">{{ stats.burgersPlusVendus|length }}</div>
            <a href="{{ path('app_statistics_burgers') }}" class="btn btn-secondary">DÃ©tails</a>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ” Filtrer les Commandes</h3>
        <form method="GET" action="{{ path('app_statistics_filter') }}" style="display: grid; gap: 15px;">
            <div>
                <label for="etat"><strong>Par Ã‰tat:</strong></label>
                <select name="etat" id="etat" style="width: 100%; padding: 10px;">
                    <option value="">-- Tous les Ã©tats --</option>
                    <option value="En attente de paiement">En attente de paiement</option>
                    <option value="ValidÃ©e">ValidÃ©e</option>
                    <option value="En cours">En cours</option>
                    <option value="Terminer">TerminÃ©e</option>
                    <option value="AnnulÃ©e">AnnulÃ©e</option>
                </select>
            </div>
            <div>
                <label for="start_date"><strong>Date DÃ©but:</strong></label>
                <input type="date" name="start_date" id="start_date" style="width: 100%; padding: 10px;">
            </div>
            <div>
                <label for="end_date"><strong>Date Fin:</strong></label>
                <input type="date" name="end_date" id="end_date" style="width: 100%; padding: 10px;">
            </div>
            <button type="submit" class="btn">ğŸ” Filtrer</button>
        </form>
    </div>
{% endblock %}
