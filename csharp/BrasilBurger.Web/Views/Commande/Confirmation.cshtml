@model Commande

@{
    ViewData["Title"] = "Confirmation de Commande";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-check-circle text-success" style="font-size: 64px;"></i>
                    </div>

                    <h1 class="card-title mb-2">Commande Confirmée!</h1>
                    <p class="text-muted">Votre commande a été reçue avec succès.</p>

                    <hr>

                    <div class="text-start">
                        <h5 class="mb-3">Détails de la Commande</h5>

                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <strong>Numéro de Commande:</strong>
                                <p>#@Model.Id</p>
                            </div>
                            <div class="col-sm-6">
                                <strong>Date:</strong>
                                <p>@Model.Date.ToString("dd/MM/yyyy HH:mm")</p>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <strong>Statut:</strong>
                                <p>
                                    <span class="badge bg-info">@Model.Etat</span>
                                </p>
                            </div>
                            <div class="col-sm-6">
                                <strong>Client:</strong>
                                <p>@Model.Client?.Nom @Model.Client?.Prenom</p>
                            </div>
                        </div>

                        <h5 class="mt-4 mb-3">Produits Commandés</h5>

                        @if (Model.CommandeBurgers != null && Model.CommandeBurgers.Count > 0)
                        {
                            <div class="mb-3">
                                <h6 class="text-secondary">Burgers:</h6>
                                <ul class="list-unstyled">
                                    @foreach (var cb in Model.CommandeBurgers)
                                    {
                                        <li>- @cb.Burger?.Nom x @cb.Qte</li>
                                    }
                                </ul>
                            </div>
                        }

                        @if (Model.CommandeMenus != null && Model.CommandeMenus.Count > 0)
                        {
                            <div class="mb-3">
                                <h6 class="text-secondary">Menus:</h6>
                                <ul class="list-unstyled">
                                    @foreach (var cm in Model.CommandeMenus)
                                    {
                                        <li>- @cm.Menu?.Nom x @cm.Qte</li>
                                    }
                                </ul>
                            </div>
                        }

                        @if (Model.CommandeComplements != null && Model.CommandeComplements.Count > 0)
                        {
                            <div class="mb-3">
                                <h6 class="text-secondary">Compléments:</h6>
                                <ul class="list-unstyled">
                                    @foreach (var cc in Model.CommandeComplements)
                                    {
                                        <li>- @cc.Complement?.Nom x @cc.Qte</li>
                                    }
                                </ul>
                            </div>
                        }

                        <hr>

                        <div class="mb-3">
                            <strong>Notes:</strong>
                            <p class="text-muted">@(string.IsNullOrEmpty(Model.Mode) ? "Aucune note" : Model.Mode)</p>
                        </div>
                    </div>

                    <hr>

                    <div class="d-flex gap-2 justify-content-center">
                        <a href="@Url.Action("Suivi", "Commande", new { id = Model.Id })" class="btn btn-primary">
                            <i class="fas fa-truck"></i> Suivre ma Commande
                        </a>
                        <a href="@Url.Action("Index", "Home")" class="btn btn-outline-secondary">
                            <i class="fas fa-home"></i> Retour à l'Accueil
                        </a>
                    </div>
                </div>
            </div>

            <div class="alert alert-info mt-4">
                <strong>Prochaines étapes:</strong>
                <ul class="mb-0">
                    <li>Vous recevrez un email de confirmation</li>
                    <li>Votre commande sera préparée</li>
                    <li>Notre livreur vous contactera pour la livraison</li>
                    <li>Suivez votre commande en temps réel</li>
                </ul>
            </div>
        </div>
    </div>
</div>
