@startuml activity_payment_validation
title Brasil Burger - Activity: Payment Validation Flow

start
:Client initiates payment;
:Selects payment method\n(WAVE or OM);
:Enters payment details;
:App sends to Payment API;
:API validates amount;
if (Amount > 0?) then
  :API creates Payment record\n(PENDING status);
  :Sends payment request\nto provider;
  if (Provider confirms?) then
    :Update Payment status\nto VALIDE;
    :Update Commande.etat\nto PRETE;
    :Notify Client;
    :Notify Gestionnaire;
    :SUCCESS;
    stop
  else
    :Update Payment status\nto REJETE;
    :Display error to Client;
    :Allow retry;
    :REJECTED;
    stop
  endif
else
  :ERROR: Invalid amount;
  stop
endif

@enduml
